{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as echarts from 'echarts';\nexport default {\n  name: 'bwd-pie',\n  props: {\n    pieOption: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      char: null,\n      type: {\n        base: {\n          radius: ['0', '70%'] //内外半径\n        },\n        ring: {\n          radius: ['50%', '70%'] //内外半径\n        },\n        rose: {\n          radius: ['0', '70%'],\n          //内外半径\n          roseType: 'radius' //玫瑰图\n        },\n        leadLine: {\n          radius: ['0', '70%'] //内外半径\n        }\n      }\n    };\n  },\n  methods: {\n    drawEcharts() {\n      let newData = [];\n      this.pieOption.data.forEach((item, index) => {\n        newData.push({\n          ...item,\n          itemStyle: {\n            color: this.pieOption.colorList[index % 6]\n          }\n        });\n      });\n      let option = {\n        grid: {\n          top: 10,\n          left: 10,\n          right: 10,\n          bottom: 10\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'horizontal',\n          left: 'center',\n          type: 'scroll'\n        },\n        series: [{\n          name: '',\n          type: 'pie',\n          ...this.type[this.pieOption.type],\n          padAngle: 1,\n          //扇形间隙\n          itemStyle: {\n            borderRadius: 5 // 扇形圆角\n          },\n          data: newData,\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n      this.char.setOption(option);\n      window.addEventListener('resize', () => {\n        this.char.resize();\n      });\n    }\n  },\n  mounted() {\n    this.char = echarts.init(this.$refs.bwdPie);\n    this.drawEcharts();\n  }\n};","map":{"version":3,"names":["echarts","name","props","pieOption","type","Object","default","data","char","base","radius","ring","rose","roseType","leadLine","methods","drawEcharts","newData","forEach","item","index","push","itemStyle","color","colorList","option","grid","top","left","right","bottom","tooltip","trigger","legend","orient","series","padAngle","borderRadius","emphasis","shadowBlur","shadowOffsetX","shadowColor","setOption","window","addEventListener","resize","mounted","init","$refs","bwdPie"],"sources":["components/lib/bwd-pie/src/main.vue"],"sourcesContent":["<template>\n    <div class=\"bwd-pie\" ref=\"bwdPie\"></div>\n</template>\n<script>\nimport * as echarts from 'echarts';\nexport default {\n    name: 'bwd-pie',\n    props: {\n        pieOption: {\n            type: Object,\n            default: null\n        }\n    },\n    data() {\n        return {\n            char: null,\n            type:{\n                base:{\n                    radius: ['0', '70%'], //内外半径\n                },\n                ring:{\n                    radius: ['50%', '70%'], //内外半径\n                },\n                rose:{\n                    radius: ['0', '70%'], //内外半径\n                    roseType:'radius', //玫瑰图\n                },\n                leadLine:{\n                    radius: ['0', '70%'], //内外半径\n                }\n            }\n        }\n    },\n    methods: {\n        drawEcharts() {\n            let newData = [];\n            this.pieOption.data.forEach((item, index) => {\n                newData.push({\n                    ...item,\n                    itemStyle: {\n                        color: this.pieOption.colorList[index % 6]\n                    }\n                })\n            })\n\n            let option = {\n                grid:{\n                    top:10,\n                    left:10,\n                    right:10,\n                    bottom:10\n                },\n                tooltip: {\n                    trigger: 'item'\n                },\n                legend: {\n                    orient: 'horizontal',\n                    left: 'center',\n                    type: 'scroll',\n                },\n                series: [\n                    {\n                        name: '',\n                        type: 'pie',\n                        ...this.type[this.pieOption.type],\n                        padAngle: 1,//扇形间隙\n                        itemStyle: {\n                            borderRadius: 5 // 扇形圆角\n                        },\n                        data: newData,\n                        emphasis: {\n                            itemStyle: {\n                                shadowBlur: 10,\n                                shadowOffsetX: 0,\n                                shadowColor: 'rgba(0, 0, 0, 0.5)'\n                            }\n                        }\n                    }\n                ]\n            };\n            this.char.setOption(option);\n            window.addEventListener('resize', () => {\n                this.char.resize()\n            })\n        }\n    },\n    mounted() {\n        this.char = echarts.init(this.$refs.bwdPie);\n        this.drawEcharts()\n    }\n}\n</script>"],"mappings":";AAIA,YAAAA,OAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,SAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAJ,IAAA;QACAK,IAAA;UACAC,MAAA;QACA;QACAC,IAAA;UACAD,MAAA;QACA;QACAE,IAAA;UACAF,MAAA;UAAA;UACAG,QAAA;QACA;QACAC,QAAA;UACAJ,MAAA;QACA;MACA;IACA;EACA;EACAK,OAAA;IACAC,YAAA;MACA,IAAAC,OAAA;MACA,KAAAd,SAAA,CAAAI,IAAA,CAAAW,OAAA,EAAAC,IAAA,EAAAC,KAAA;QACAH,OAAA,CAAAI,IAAA;UACA,GAAAF,IAAA;UACAG,SAAA;YACAC,KAAA,OAAApB,SAAA,CAAAqB,SAAA,CAAAJ,KAAA;UACA;QACA;MACA;MAEA,IAAAK,MAAA;QACAC,IAAA;UACAC,GAAA;UACAC,IAAA;UACAC,KAAA;UACAC,MAAA;QACA;QACAC,OAAA;UACAC,OAAA;QACA;QACAC,MAAA;UACAC,MAAA;UACAN,IAAA;UACAxB,IAAA;QACA;QACA+B,MAAA,GACA;UACAlC,IAAA;UACAG,IAAA;UACA,QAAAA,IAAA,MAAAD,SAAA,CAAAC,IAAA;UACAgC,QAAA;UAAA;UACAd,SAAA;YACAe,YAAA;UACA;UACA9B,IAAA,EAAAU,OAAA;UACAqB,QAAA;YACAhB,SAAA;cACAiB,UAAA;cACAC,aAAA;cACAC,WAAA;YACA;UACA;QACA;MAEA;MACA,KAAAjC,IAAA,CAAAkC,SAAA,CAAAjB,MAAA;MACAkB,MAAA,CAAAC,gBAAA;QACA,KAAApC,IAAA,CAAAqC,MAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAtC,IAAA,GAAAR,OAAA,CAAA+C,IAAA,MAAAC,KAAA,CAAAC,MAAA;IACA,KAAAjC,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}